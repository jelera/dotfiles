# Global mise configuration
# This file is symlinked to ~/.config/mise/config.toml
# https://mise.jdx.dev/configuration.html
#
# PHILOSOPHY: mise is the PRIMARY tool manager
# Only fall back to Homebrew/apt for tools not available in mise
# Benefits: version pinning, reproducibility, cross-platform consistency

[tools]
# ===== Language Runtimes =====
ruby = "latest"
node = "lts"
python = "latest"
go = "latest"
erlang = "latest"
elixir = "latest"
rust = "latest"     # Provides cargo backend for cargo:* tools
uv = "latest"       # Modern Python package installer (replaces pipx)

# ===== Essential CLI Tools =====
# These replace traditional package manager installations
jq = "latest"
fzf = "latest"
ripgrep = "latest"
bat = "latest"
neovim = "latest"
shellcheck = "latest"

# ===== Modern CLI Replacements =====
# Better alternatives to standard Unix tools
eza = "latest"
fd = "latest"
zoxide = "latest"
dust = "latest"
"cargo:procs" = "latest"     # Better ps (process viewer)
bottom = "latest"
duf = "latest"
"pipx:httpie" = "latest"     # Better curl (http command)

# ===== Git & Version Control =====
gh = "latest"
lazygit = "latest"
delta = "latest"
gitleaks = "latest"
lefthook = "latest"

# ===== Development Tools =====
# Essential dev utilities
direnv = "latest"
just = "latest"
watchexec = "latest"
tokei = "latest"
hyperfine = "latest"
grex = "latest"
glow = "latest"
yq = "latest"
"pipx:check-jsonschema" = "latest"  # JSON Schema validation for manifests

# Infrastructure & Cloud (uncomment as needed)
# terraform = "latest"       # Infrastructure as Code
# kubectl = "latest"         # Kubernetes CLI
# k9s = "latest"             # Kubernetes TUI
# helm = "latest"            # Kubernetes package manager
# docker-compose = "latest"  # Docker orchestration
# ansible = "latest"         # Configuration management
# vault = "latest"           # Secrets management
# awscli = "latest"          # AWS CLI
# gcloud = "latest"          # Google Cloud CLI
# azure-cli = "latest"       # Azure CLI

# Container Tools (uncomment as needed)
# lazydocker = "latest"      # Docker TUI
# dive = "latest"            # Docker image explorer
# ctop = "latest"            # Container top

# Database Tools (uncomment as needed)
# usql = "latest"            # Universal SQL client

# Documentation & Help
"cargo:tealdeer" = "latest"  # Community man pages (tldr)

# ===== Terminal Emulators =====
# Note: Ghostty is automatically installed via Homebrew Cask on macOS
# See install/packages.sh -> install_gui_applications()
# Config: config/ghostty/config (symlinked to ~/.config/ghostty/config)

# Network Tools (uncomment as needed)
# gping = "latest"           # Ping with graph
# dog = "latest"             # Modern dig
# bandwhich = "latest"       # Network monitoring

# Security Scanning (uncomment as needed)
# trivy = "latest"           # Container vulnerability scanner
# syft = "latest"            # SBOM generator
# grype = "latest"           # Vulnerability matcher

# Data Tools
# visidata = "latest"        # Tabular data explorer
# jless = "latest"           # JSON viewer
# fx = "latest"              # Interactive JSON

# ===== Language-Specific Tools =====
# Uncomment tools for languages you use

# Go tools
"go:golang.org/x/tools/gopls" = "latest"                              # Go language server
"go:github.com/golangci/golangci-lint/cmd/golangci-lint" = "latest"  # Go linter
# "go:github.com/air-verse/air" = "latest"                            # Go hot reload

# Node/TypeScript tools
"npm:typescript" = "latest"                                           # TypeScript compiler
"npm:typescript-language-server" = "latest"                           # TS language server
"npm:prettier" = "latest"                                             # Code formatter
"npm:eslint" = "latest"                                               # JS/TS linter
"npm:pnpm" = "latest"                                                 # Fast package manager
"npm:yarn" = "latest"                                                 # Package manager
# "npm:@vscode/markdown-language-server" = "latest"                   # Markdown language server
# "npm:vite" = "latest"                                               # Build tool
# "npm:turbo" = "latest"                                              # Monorepo build system

# Ruby tools
"gem:rubocop" = "latest"                                              # Ruby linter
"gem:solargraph" = "latest"                                           # Ruby language server
"gem:standardrb" = "latest"                                           # Ruby style guide
"gem:rails" = "latest"                                                # Rails framework
# "gem:bundler" = "latest"                                            # Dependency manager

# Python tools (using pipx backend)
"pipx:black" = "latest"                                               # Python formatter
"pipx:ruff" = "latest"                                                # Fast Python linter & formatter
"pipx:mypy" = "latest"                                                # Type checker
"pipx:poetry" = "latest"                                              # Dependency management
"pipx:pipenv" = "latest"                                              # Virtual env & dependency manager
"pipx:ipython" = "latest"                                             # Better Python REPL
# "pipx:pytest" = "latest"                                            # Testing framework
# "pipx:pylint" = "latest"                                            # Python linter

# Rust tools (via cargo)
"cargo:stylua" = "latest"                                             # Lua formatter
"cargo:cargo-watch" = "latest"                                        # Watch Rust files and run commands
# "cargo:cargo-edit" = "latest"                                       # Cargo commands for editing Cargo.toml

[env]
# Global environment variables for development
EDITOR = "nvim"
VISUAL = "nvim"
PAGER = "less"

# XDG Base Directory
# Note: Use mise template syntax to expand $HOME
XDG_CONFIG_HOME = "{{env.HOME}}/.config"
XDG_DATA_HOME = "{{env.HOME}}/.local/share"
XDG_CACHE_HOME = "{{env.HOME}}/.cache"

# FZF configuration
FZF_DEFAULT_COMMAND = "fd --type f --hidden --follow --exclude .git"
FZF_CTRL_T_COMMAND = "$FZF_DEFAULT_COMMAND"
FZF_DEFAULT_OPTS = "--height 40% --layout=reverse --border"

# Bat configuration
BAT_THEME = "TwoDark"
BAT_STYLE = "numbers,changes,header"

# Ripgrep configuration
# Set explicit path so ripgrep uses our config (with expanded $HOME)
RIPGREP_CONFIG_PATH = "{{env.HOME}}/.ripgreprc"

# Development paths
PROJECTS = "~/projects"

[settings]
# Enable experimental features
experimental = true
# Verbose output for debugging
verbose = false
# Automatically install missing tools
always_keep_download = false
# Use all CPU cores for compilation
jobs = 4
# Enable idiomatic version files (.ruby-version, .node-version, etc.)
legacy_version_file = true
# Shorten version output
yes = false

[plugins]
# Add any custom plugins here if needed
# Example: custom backend for a proprietary tool
# my-tool = "https://github.com/company/mise-my-tool"
